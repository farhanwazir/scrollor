/*Name:		Scrollor
Author:		Farhan Wazir
Email:		seejee1@gmail.com
Website:	http://cideator.com

Company:	Creative Ideator
Website:	http://cideator.com
*/
(function(name,context,definition){if(typeof module!='undefined'&&module.exports)module.exports=definition();else if(typeof define=='function'&&define.amd)define(definition);else context[name]=definition()})('jquery.scrollor',this,function(){var jQuery,$,scrollor;jQuery=$=window.jQuery||require('jquery');$.propHooks.scrollTop=$.propHooks.scrollLeft={get:function(elem,prop){var result=null;if(elem.tagName==='HTML'||elem.tagName==='BODY'){if(prop==='scrollLeft'){result=window.scrollX}else if(prop==='scrollTop'){result=window.scrollY}}if(result==null){result=elem[prop]}return result}};$.Tween.propHooks.scrollTop=$.Tween.propHooks.scrollLeft={get:function(tween){return $.propHooks.scrollTop.get(tween.elem,tween.prop)},set:function(tween){if(tween.elem.tagName==='HTML'||tween.elem.tagName==='BODY'){tween.options.bodyScrollLeft=(tween.options.bodyScrollLeft||window.scrollX);tween.options.bodyScrollTop=(tween.options.bodyScrollTop||window.scrollY);if(tween.prop==='scrollLeft'){tween.options.bodyScrollLeft=Math.round(tween.now)}else if(tween.prop==='scrollTop'){tween.options.bodyScrollTop=Math.round(tween.now)}window.scrollTo(tween.options.bodyScrollLeft,tween.options.bodyScrollTop)}else if(tween.elem.nodeType&&tween.elem.parentNode){tween.elem[tween.prop]=tween.now}}};scrollor={config:{duration:500,durationMode:true,easing:'swing',parents:true,offsetTop:0,offsetLeft:0,animateBoth:true,axis:'xy',onAfterEach:undefined,onAfter:undefined,onStart:undefined},configure:function(options){$.extend(scrollor.config,options||{});return this},scroll:function(collections,config){var collection,$container,container,$target,$inline,position,containerTagName,containerScrollTop,containerScrollLeft,containerScrollTopEnd,containerScrollLeftEnd,startOffsetTop,targetOffsetTop,targetOffsetTopAdjusted,startOffsetLeft,targetOffsetLeft,targetOffsetLeftAdjusted,scrollOptions,callback;collection=collections.pop();$container=collection.$container;$target=collection.$target;containerTagName=$container.prop('tagName');$inline=$('<span/>').css({'position':'absolute','top':'0px','left':'0px'});position=$container.css('position');$container.css({position:'relative'});$inline.appendTo($container);startOffsetTop=$inline.offset().top;targetOffsetTop=$target.offset().top;targetOffsetTopAdjusted=targetOffsetTop-startOffsetTop-parseInt(config.offsetTop,10);startOffsetLeft=$inline.offset().left;targetOffsetLeft=$target.offset().left;targetOffsetLeftAdjusted=targetOffsetLeft-startOffsetLeft-parseInt(config.offsetLeft,10);containerScrollTop=$container.prop('scrollTop');containerScrollLeft=$container.prop('scrollLeft');$inline.remove();$container.css({position:position});scrollOptions={};callback=function(event){if(collections.length===0){if(typeof config.onAfter==='function'){config.onAfter()}}else{scrollor.scroll(collections,config)}return true};if(config.parents===false){containerScrollTopEnd=containerScrollTop+$container.height();containerScrollLeftEnd=containerScrollLeft+$container.width();if(containerScrollTop<targetOffsetTopAdjusted&&targetOffsetTopAdjusted<containerScrollTopEnd){targetOffsetTopAdjusted=containerScrollTop}if(containerScrollLeft<targetOffsetLeftAdjusted&&targetOffsetLeftAdjusted<containerScrollLeftEnd){targetOffsetLeftAdjusted=containerScrollLeft}}if(targetOffsetTopAdjusted!==containerScrollTop){scrollOptions.scrollTop=targetOffsetTopAdjusted}if(targetOffsetLeftAdjusted!==containerScrollLeft){scrollOptions.scrollLeft=targetOffsetLeftAdjusted}if($container.prop('scrollHeight')===$container.width()){delete scrollOptions.scrollTop}if($container.prop('scrollWidth')===$container.width()){delete scrollOptions.scrollLeft}if(scrollOptions.scrollTop!=null||scrollOptions.scrollLeft!=null){$_scrollTop=scrollOptions.scrollTop;$_scrollLeft=scrollOptions.scrollLeft;$both=false;if(typeof config.onStart==='function')config.onStart();if(config.axis=='y')delete scrollOptions.scrollLeft;if(config.axis=='x')delete scrollOptions.scrollTop;if(config.axis=='xy'||config.axis=='yx')$both=true;if(config.axis==='yx'&&!config.animateBoth)delete scrollOptions.scrollLeft;if(config.axis==='xy'&&!config.animateBoth)delete scrollOptions.scrollTop;$container.animate(scrollOptions,{duration:config.duration,easing:config.easing,complete:function(){if($both&&!config.animateBoth){if(typeof config.onAfterEach==='function')config.onAfterEach();if(config.axis==='yx')scrollOptions.scrollLeft=$_scrollLeft;else if(config.axis==='xy')scrollOptions.scrollTop=$_scrollTop;$container.animate(scrollOptions,{duration:config.duration,easing:config.easing,complete:callback})}else callback()}})}else{callback()}return true},fn:function(options){var collections,config,$container,container;collections=[];var $target=$(this);if($target.length===0){return this}config=$.extend({},scrollor.config,options);$container=$target.parent();container=$container.get(0);while(($container.length===1)&&(container!==document.body)&&(container!==document)){var containerScrollTop,containerScrollLeft;containerScrollTop=$container.css('overflow-y')!=='visible'&&container.scrollHeight!==container.clientHeight;containerScrollLeft=$container.css('overflow-x')!=='visible'&&container.scrollWidth!==container.clientWidth;if(containerScrollTop||containerScrollLeft){collections.push({'$container':$container,'$target':$target});$target=$container}$container=$container.parent();container=$container.get(0)}collections.push({'$container':$('html'),'$target':$target});if(config.durationMode){config.duration/=collections.length;}scrollor.scroll(collections,config);return this}};$.scrollor=$.scrollor||scrollor;$.fn.scrollor=$.fn.scrollor||scrollor.fn;return scrollor});
